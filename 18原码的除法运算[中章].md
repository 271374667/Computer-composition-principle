# 原码的除法运算



![image-20220415153256563](https://pic.imgdb.cn/item/625923ff239250f7c59a18e0.png)



## 手算除法

> 十进制的手算除法

![image-20220415160012334](https://pic.imgdb.cn/item/62592632239250f7c59de42d.png)
$$
\begin{align*}
&x(除数) \div y(被除数) =a ……b \rightarrow x(除数) = a \times y + b\\
&可知我们的除数=被除数*结果 + 余数
\end{align*}
$$

> 二进制的手算除法

![image-20220415160426575](https://pic.imgdb.cn/item/62592730239250f7c59f86ae.png)

因为我们的机器字长是5位，所以我们在得到了5个位商就可以停止

## 计算机算除法

### 恢复余数法

```mermaid
graph TB;
start(开始) -->|总之先上一,然后再相加|judge1{判断是否为负数}
judge1 -->|如果为负数|result1[加错了,恢复余数]
judge1 --->|如果为正数就让余数逻辑左移|result2[没加错,继续下一个位]
result2 ----->|移动一位|start
```

> 设机器字长为5位(含1位符号位，n=4) ，x=0:1011, y=0.1101, 采用原码恢复余数法求x/y
> $|x|=0.1011，|y|=0.1101， [|y|]_补=0.1101, [-|y|]_补=1.0011$
>
> 符号位单独处理:$符号位=x_5 \bigoplus y_5$数值位取绝对值进行除法计算

![image-20220417172603055](https://pic.imgdb.cn/item/625bdd50239250f7c5d99702.png)

如上图,我们的**被除数会被存储在ACC中,而除数会被存储在x中**,其中MQ的灰色的一位就是当前正在确定的计算位

计算机很傻，会先默认上商1，如果搞错了再改上商0。并“恢复余数'
如果我们默认上商1,那么我们现在就判断$被除数-除数$是否大于0,但是我们计算机可以直接加负除数的补码，这样就省去了减法操作

![image-20220417173305687](https://pic.imgdb.cn/item/625bdef6239250f7c5dca925.png)

此时我们可以看到，当我们上1的时候(本来应该上0),我们使用被除数-除数等于
$$
\underline{(ACC)}+\underline{[-|y|]_补} &\rightarrow \underline{ACC}\\
01011+10011 &= 11110
$$
可以看到最终我们相减的结果符号位是1，说明这是一个负数，实际上这个位应该上0,**这个时候我们就需要恢复余数**，然后给ACC正确的值

![image-20220417174322913](https://pic.imgdb.cn/item/625be160239250f7c5e07bb9.png)

现在我们已经有一个正确的值了，接下来我们让ACC，MQ整体==逻辑左移==,ACC高位丢弃,MQ低位补0

![image-20220417174501245](https://pic.imgdb.cn/item/625be1c2239250f7c5e12b39.png)

然后我们再重复之前的操作，开始给商上1

![image-20220417174605525](https://pic.imgdb.cn/item/625be202239250f7c5e18d75.png)

可以看到，我们现在的得数正确，所以就不用管了，直接逻辑左移然后进入下一位直到最后一位

最后等我们算完了我们需要在最后得数的基础上再乘以2的-n次方(机器字长-符号位)

![image-20220417212944944](https://pic.imgdb.cn/item/625c166d239250f7c540b799.png)
$$
余数 = 0.0111 \times 2^{-n}(n的值为机器字长-1_{减去符号位})
$$
最后我们再单独处理符号位
$$
x=0.1011\\
y=0.1101\\
符号位=x_5\bigoplus y_5
$$
 

![image-20220416180404216](https://pic.imgdb.cn/item/625a94bf239250f7c5e37067.png)

> 加减交替法(不回复余数法)

加减交替法就是在余数恢复法中，如果商为负数就直接逻辑左移

![image-20220417214113506](https://pic.imgdb.cn/item/625c191e239250f7c545c145.png)
