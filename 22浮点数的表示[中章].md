# 浮点数的表示

![image-20220424110311207](https://pic.imgdb.cn/item/6264bdb9239250f7c588575c.png)

## 浮点数的表示

定点数可表示的数字范围有限，而且我们不能无限制地增加数据的长度
比如你无法使用$int$类型来表示$16354654849846545654$，这样一串很长的数字

为了让我们在位数不变的情况下，增加数据的表示范围，我们就有了浮点数

### 从科学计数法理解浮点数

**普通计数法**转换成**科学计数法**
$$
+182070654321(普通计数法) \rightarrow +1.82 \times 10^{11}(科学计数法)
$$
我们可以看到，我们科学计数法里底数永远是10，在计算机中，我们的空间能省则省，于是我们干脆直接把底数省去，只写指数，然后把他前移，让我们的数据看起来像这样
$$
\color{blue}{+11} \; \color{green}{+1.82}
$$
其中蓝色的部分我们就称为阶码(表示数值大小)，绿色的称为位数(反映了数值的精度)

![](https://s2.loli.net/2022/04/24/f1nTOj4YwsB3m9a.png)

> 浮点数的表示

阶码:常用补码或移码表示的定点整数
尾数:常用原码或补码表示的定点小数

![image-20220424112456337](https://s2.loli.net/2022/04/24/ZkLSgCTMwsyv46l.png)

阶码**反映浮点数的表示范围及小数点的实际位置**
尾数的**数值部分的位数n反映浮点数的精度**

==尾数给出一个小数，阶码指明了小数点要向前/向后移动几位==

> 为什么浮点数的底是2呢？

因为当底是2的时候,指数表示小数点需要左移或者右移的数量，于此相同，这个底同样也可以是2的倍数，但是==底默认是2==

### 浮点数尾数的格式化

因为有的时候浮点数需要舍弃一些数值丢失精度，这是没有办法的，但是我们可以想办法让他丢失的精度小一点.于是我们就有了浮点数尾数的格式化

在十进制的科学计数法中，**我们需要保证最高位必须是一个有效数值**

![image-20220424113500464](https://s2.loli.net/2022/04/24/a6c8TfL5ZomJpzh.png)

于是我们在计算机中也可以使用同样的原理，来对我们的数值进行处理


![image-20220424113548664](https://s2.loli.net/2022/04/24/lzu946jpXk1QIZe.png)

> 左规与右规

左规:当浮点数运算的结果为非规格化时要进行规格化处理,
将尾数==算数左移一位，阶码减1==(*通过算数左移、阶码减1来规格化*)

右规:当浮点数运算的结果尾数出现溢出(双符号位为01或10)时,
将尾数==算数右移一位，阶码加1==(*通过算数右移、阶码加1来规格化*)

![image-20220424113835829](https://s2.loli.net/2022/04/24/SnDTGY4OgIK1ucm.png)

*注:采用“双符号位”，当溢出发生时，可以挽救。更高的符号位是正确的符号位*

> 格式化浮点数的特点

1. 用原码表示的尾数进行规格化:
   正数为0.1XX...x的形式，其最大值表示为0.1...1;最小值表示为0.10...0. .
   尾数的表示范围为$ \frac{1}{2} \leq M \leq(1-2^{-n})$
   负数为1.1XX...x的形式，其最大值表示为1.10...0;最小值表示为1.1...1.
   尾数的表示范围为$-(1-2^{-n}) \leq M ≤ -\frac{1}{2}$ [^标注1]

[^标注1]:规格化的原码尾数，最高数值位定是1

2. 用补码表示的尾数进行规格化:
   正数为0.1X X...x的形式，其最大值表示为0.11...1;最小值表示为0.10...0。
   尾数的表示范围为$ \frac{1}{2} \leq M \leq(1-2^{-n})$
   负数为1.0XX...x的形式，其最大值表示为1.01...1;最小值表示为1.0...0
   尾数的表示范围为$-1 \leq M ≤ -(\frac{1}{2}+2^{-n})$ [^标注 2]

[^标注 2]: 规格化的补码尾数，符号位与最高数值位一定相反

### 浮点数的表示范围

*仅作为了解*

![浮点数的表示范围](https://pic.imgdb.cn/item/6264ca4c239250f7c5a49188.jpg)



## 回顾与总结

![image-20220424115817827](https://pic.imgdb.cn/item/6264caa4239250f7c5a555b4.png)
